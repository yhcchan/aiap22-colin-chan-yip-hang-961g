# ------------------------------------------------------------------------------
# Model Parameters Configuration File for Per-Model Pipeline Settings
#
# This file defines **per-model** configuration blocks used by the modeling pipeline,
# including:
#   - Optional feature selection thresholds
#   - Per-model class weighting strategy
#   - Ordered, custom feature engineering steps
#   - Hyperparameter grid for GridSearchCV
#   - Evaluation settings/metrics
#
# Layout:
#   <model_name>:
#     enabled: true/false         # If false, skip this model
#     feature_selection: ...      # 'mean', numeric threshold, or null to disable
#     class_weights: {...}        # See below
#     feature_engineering: {...}  # See feature_engineering_config.md
#     param_grid: {...}           # Grid for estimator hyperparameters
#     evaluation: {...}           # Metrics and settings
#
# Feature Selection:
#   - String "mean" uses average coef/importance as threshold.
#   - Numeric values (e.g., 0.02) specify absolute cutoff.
#
# Class Weights:
#   enabled: true/false
#   mode: balanced          # 'balanced' = use sklearn compute_class_weight
#
# Feature Engineering:
#   - Inline the same structure as config/global_feature_engineering.yaml
#   - Steps run in order they are listed in each model's block.
#
# Evaluation:
#   primary_metric: <name>        # E.g., 'cohen_kappa'
#   additional_metrics: [...]     # Optional, e.g., ['accuracy', 'macro_f1', 'qwk']
#
# Refer to config/model_params_config.md for more examples and documentation.
# ------------------------------------------------------------------------------

logistic_regression:
  
  enabled: false 
  
  feature_selection: 'mean'

  estimator_params:
    max_iter: 1000
    class_weight: balanced

  feature_engineering:
    onehot_features:
      Industry:
        drop: "eCommerce"
      HostingProvider:
        drop: "Unknown Provider"
    log_transform_features:
      - LineOfCode
      - LargestLineLength
      - NoOfExternalRef
    scale_features:
      - LineOfCode
      - LargestLineLength
      - NoOfExternalRef
      - NoOfImage 
      - NoOfSelfRef
      - NoOfExternalRef
      - DomainAgeMonths
 
  param_grid:
    C: [10, 50, 100]
    penalty: ['l1', 'l2']
    solver: ['liblinear']

  evaluation:
    primary_metric: cohen_kappa
    scoring_method: balanced_accuracy # Used to score GridSearchCV to select best hyperparameters
    additional_metrics: [accuracy, macro_f1, qwk]
    average: macro

random_forest:
  
  enabled: false 
  
  feature_selection: 0.02

  estimator_params: 
    max_iter: 200
    class_weight: balanced
 
  feature_engineering:
    onehot_features:
      Industry:
        drop: "eCommerce"
      HostingProvider:
        drop: "Unknown Provider"

  param_grid:
    n_estimators: [10, 20, 50, 100, 150]
    max_depth: [5, 10, 20]

  evaluation:
    primary_metric: cohen_kappa
    scoring_method: balanced_accuracy # Used to score GridSearchCV to select best hyperparameters
    additional_metrics: [accuracy, macro_f1, qwk]
    average: macro

hgboost:

  enabled: true 

  feature_selection: null

  estimator_params:
    max_iter: 150
    class_weight: balanced
    loss: log_loss
    early_stopping: False
    random_state: 42

  feature_engineering:
    onehot_features:
      Industry:
        drop: "eCommerce"
      HostingProvider:
        drop: "Unknown Provider"

  param_grid:
    learning_rate: [0.03, 0.05, 0.1]
    max_leaf_nodes: [15, 31, 63]
    min_samples_leaf: [10, 20, 50]
    l2_regularization: [0.0, 0.1, 1.0]
    max_bins: [64, 128, 255]
  
  evaluation:
    primary_metric: cohen_kappa
    scoring_method: balanced_accuracy # Used to score GridSearchCV to select best hyperparameters
    additional_metrics: [accuracy, macro_f1, qwk]
    average: macro